import{v as u,k as h,m as l,b as f,u as m,w as o,r,x as g,y as p,z as d,A as x,j as E,O as $,i as k}from"./index-ZnqEDNZj.js";const i=u.title;function R(t){return t?`${t} - ${i}`:`${i}`}const j=["/login"],O=()=>{const t=h(),s=l(k,t),e=f(),n=m();return console.log("store",o),r.useEffect(()=>{const a=g();if(a)if(t.pathname==="/login")e("/");else if(o.getState().user.name)e(t.pathname);else try{n(p(a)),e(t.pathname)}catch(c){n(d()),x.error(String(c)||"Has Error"),e(`/login?redirect=${t.pathname}`)}else j.indexOf(t.pathname)!==-1?e(t.pathname):e(`/login?redirect=${t.pathname}`)},[]),r.useEffect(()=>{var a;s&&(document.title=R(((a=s[(s==null?void 0:s.length)-1].route.meta)==null?void 0:a.title)||""))},[t.pathname]),E.jsx($,{})};export{O as default};
